# ⏰ 自动关机工具

一个现代化的自动关机工具，支持定时关机和倒计时关机，具有美观的图形界面和后台运行功能。

![Python](https://img.shields.io/badge/Python-3.6+-blue.svg)
![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg)

## ✨ 特性

### 🎨 现代化界面

- 使用 `customtkinter` 构建的现代化 UI
- 支持深色/浅色主题自动切换
- 圆角卡片设计和渐变效果
- 直观的状态指示和颜色编码

### ⚡ 核心功能

- **定时关机**：设置具体时间自动关机
- **倒计时关机**：设置倒计时时间自动关机
- **后台运行**：设置后可最小化到系统托盘
- **实时状态监控**：托盘图标显示剩余时间
- **一键取消**：随时取消已设置的关机任务
- **立即关机**：紧急情况下的快速关机

### 🔄 智能特性

- 自动识别过期时间（设置为明天）
- 后台线程监控，不影响主程序
- 系统托盘集成，方便管理
- 跨平台支持（Windows/Linux/macOS）

## 📦 安装

### 环境要求

- Python 3.6 或更高版本
- 支持的操作系统：Windows、Linux、macOS

### 安装依赖

```bash
pip install customtkinter Pillow pystray
```

## 🚀 使用方法

### 基本使用

1. **设置关机时间**
   
   - 选择具体时间（时:分）
   - 或设置倒计时（小时:分钟）

2. **开始定时**
   
   - 点击"🚀 开始定时关机"按钮
   - 程序提示后将转为后台运行

3. **后台管理**
   
   - 程序自动最小化到系统托盘
   - 右键托盘图标可进行管理操作
   - 左键悬停查看剩余时间

### 系统托盘操作

- **🖱️ 左键点击**：查看状态提示
- **🖱️ 右键点击**：显示操作菜单
  - 🪟 显示窗口：恢复主界面
  - ❌ 取消关机：停止定时任务
  - 🚪 退出：完全退出程序

## 🖼️ 界面预览

### 主界面

```
⏰ 自动关机工具
安全可靠的定时关机解决方案

🕒 当前时间: 2025年10月26日 14:30:25

🕐 定时关机设置
  设置关机时间: [18] 时 [00] 分

⏱️ 倒计时关机
  倒计时时间: [0] 小时 [30] 分钟

📊 状态信息
  🔴 未设置关机任务

🚀 开始定时关机
❌ 取消关机
⚡ 立即关机

💡 设置关机后可以最小化到系统托盘...
```

### 状态指示

- 🔴 **红色**：未设置关机任务
- 🟢 **绿色**：已设置定时关机
- 🟡 **黄色**：已取消关机

## 🛠️ 技术细节

### 项目结构

```
AutoShutdownAPP/
├── AutoShutdownAPP-v3.py    # 主程序文件
└── README.md          # 说明文档
```

### 核心类说明

- `AutoShutdownApp`：主应用程序类
  - `setup_gui()`：初始化现代化界面
  - `start_shutdown()`：开始定时关机
  - `cancel_shutdown()`：取消关机任务
  - `create_tray_icon()`：创建系统托盘

### 依赖库

- `customtkinter`：现代化UI框架
- `Pillow`：图像处理（托盘图标）
- `pystray`：系统托盘集成

# 后续改进

- 完善逻辑判断，修倒计时用不了的bug
- 改进UI
- 前后端分离，提高效率
- 可能会改用其他框架重写

---

*最后更新: 2025年11月*
